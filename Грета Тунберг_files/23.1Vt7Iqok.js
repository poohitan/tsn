var q=i=>{throw TypeError(i)};var M=(i,e,t)=>e.has(i)||q("Cannot "+t);var n=(i,e,t)=>(M(i,e,"read from private field"),t?t.call(i):e.get(i)),a=(i,e,t)=>e.has(i)?q("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),l=(i,e,t,r)=>(M(i,e,"write to private field"),r?r.call(i,t):e.set(i,t),t),o=(i,e,t)=>(M(i,e,"access private method"),t);import{_ as p}from"./chunks/index.D_5av9BF.js";import{i as E}from"./chunks/initIntersectionObserver.B5hw3m26.js";import{u as D}from"./chunks/useHttp.6cBI5n3N.js";import{t as re}from"./chunks/translate.83Kw0WLP.js";const H=i=>{E(i.querySelectorAll("[data-audio]"),()=>p(()=>import("./chunks/init.D_Pc7D7M.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(H);H(document);const N=i=>{E(i.querySelectorAll("[data-broadcast]"),()=>p(()=>import("./chunks/init.D6DM56NR.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(N);N(document);const R=i=>{E(i.querySelectorAll("[data-gallery]"),()=>p(()=>import("./chunks/init.Ca6b48jt.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(R);R(document);var b,g,f,w,$,U,k;class se extends HTMLElement{constructor(){super();a(this,w);a(this,b);a(this,g);a(this,f);l(this,b,this.getAttribute("embedUuid")),l(this,g,!1),l(this,f,new IntersectionObserver(o(this,w,$).bind(this),{rootMargin:"0px 0px 25% 0px"}))}connectedCallback(){n(this,f).observe(this)}disconnectedCallback(){n(this,f).disconnect()}}b=new WeakMap,g=new WeakMap,f=new WeakMap,w=new WeakSet,$=function(t){t.forEach(async r=>{r.isIntersecting&&!n(this,g)&&(await o(this,w,U).call(this),l(this,g,!0),n(this,f).disconnect())})},U=async function(){if(n(this,b))try{const{get:t}=D(),{data:r}=await t(`embeds/${n(this,b)}`);this.innerHTML=r.html,o(this,w,k).call(this,r.provider)}catch(t){console.error("Error loading embed:",t)}},k=async function(t){try{const{default:r}=await p(async()=>{const{default:d}=await import("./chunks/EmbedInitializer.UfroDYA7.js");return{default:d}},[],import.meta.url);r.init(t)}catch(r){console.error("Error initializing embed:",r)}};customElements.define("lazy-embed",se);const z=i=>{E(i.querySelectorAll("[data-poll]"),()=>p(()=>import("./chunks/init.CZ-9vfpO.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(z);z(document);const F=i=>{E(i.querySelectorAll("[data-comparison-slider]"),()=>p(()=>import("./chunks/init.B1poOFQl.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(F);F(document);const B=i=>{E(i.querySelectorAll("[data-share-container]"),()=>p(()=>import("./chunks/init.CoUtddHn.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(B);B(document);const j=i=>{if(window.scrollY>0){i();return}const e=()=>{i(),window.removeEventListener("pointerdown",e),window.removeEventListener("scroll",e)};window.addEventListener("pointerdown",e,{passive:!0}),window.addEventListener("scroll",e,{passive:!0})},K=i=>{const e=i instanceof Document?i.querySelectorAll("[data-article]"):[i];E(e,()=>p(()=>import("./chunks/init.BQymlAZ2.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(K);j(()=>K(document));const oe=()=>{var i,e,t;window.tsn.environment==="production"&&((i=window.pp_gemius_hit)==null||i.call(window,window.tsn.gemiusCode),window.dataLayer.push({event:"gtm-dynamic-event","gtm-event-action":"pageview"}),(e=window._paq)==null||e.push(["setCustomUrl",window.location]),(t=window._paq)==null||t.push(["trackPageView"]))};var y,A,Y,J;class ae{constructor(){a(this,A);a(this,y);l(this,y,new Map)}async load(e){const t=e.map(r=>{if(n(this,y).has(r))return Promise.resolve();const d=o(this,A,Y).call(this,r);return n(this,y).set(r,d),d});return Promise.all(t)}}y=new WeakMap,A=new WeakSet,Y=async function(e){return new Promise((t,r)=>{if(o(this,A,J).call(this,e)){t();return}const d=document.createElement("link");d.rel="stylesheet",d.href=e,d.onload=()=>t(),d.onerror=()=>{n(this,y).delete(e),r(new Error(`Failed to load stylesheet: ${e}`))},document.head.appendChild(d)})},J=function(e){return Array.from(document.styleSheets).some(t=>t.href===e)};var _,u,C,S,m,v,L,x,s,G,Q,W,X,Z,ee,te,O,ie,ne;class de{constructor(e,t){a(this,s);a(this,_);a(this,u);a(this,C);a(this,S,!1);a(this,m);a(this,v);a(this,L);a(this,x,new ae);l(this,_,e),l(this,u,t),l(this,C,t.innerHTML),l(this,m,o(this,s,G).call(this)),l(this,v,o(this,s,W).call(this)),l(this,L,o(this,s,X).call(this)),o(this,s,Q).call(this)}}_=new WeakMap,u=new WeakMap,C=new WeakMap,S=new WeakMap,m=new WeakMap,v=new WeakMap,L=new WeakMap,x=new WeakMap,s=new WeakSet,G=function(){const e=n(this,_).querySelector("[data-article]");if(!e)throw new Error("Expected a non-empty infinite container");return e},Q=function(){n(this,v).observe(n(this,u)),n(this,L).observe(n(this,m))},W=function(){return new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&o(this,s,Z).call(this)})},{rootMargin:"100% 0px 200% 0px"})},X=function(){return new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&o(this,s,ie).call(this,t.target)})},{rootMargin:"-50% 0px"})},Z=async function(){const e=n(this,u).dataset.next;if(n(this,S)||!e)return;l(this,S,!0),o(this,s,O).call(this,!0),n(this,v).disconnect();const{get:t}=D();try{const{data:r}=await t(e,{feed_after_uuid:window.tsn.lastSidebarItemUuid??null},{prefixUrl:""});o(this,s,ee).call(this,r),o(this,s,te).call(this,r.url,r.api_next_url),o(this,s,O).call(this,!1)}catch(r){console.error("Failed to load the next set of articles:",r),n(this,u).remove()}finally{l(this,S,!1)}},ee=function(e){document.dispatchEvent(new Event("nextArticleLoaded")),n(this,_).insertAdjacentHTML("beforeend",e.html),n(this,x).load(e.styles);const t=n(this,_).querySelector(`[data-article="${e.uuid}"]`);t&&(window.tsn.infiniteScrollClosures.forEach(r=>r(t)),t.getBoundingClientRect().top<0&&t.scrollIntoView({behavior:"instant"}),n(this,L).observe(t))},te=function(e,t){n(this,u).href=e,n(this,u).dataset.next=t,n(this,v).observe(n(this,u))},O=function(e){if(e){n(this,u).classList.add("is-disabled"),n(this,u).innerHTML=re("Завантаження")+"…";return}n(this,u).classList.remove("is-disabled"),n(this,u).innerHTML=n(this,C)},ie=function(e){n(this,m)!==e&&(l(this,m,e),o(this,s,ne).call(this),oe())},ne=function(){const e=n(this,m).dataset.title,t=n(this,m).dataset.url;e&&t&&(document.title=e,history.pushState({...history.state},e,t))};const le=i=>{const e=i.querySelector("[data-infinite-container]"),t=i.querySelector("[data-next]");!e||!t||new de(e,t)};j(()=>le(document.body));const ce=()=>{var P,V;const i=c=>{const h=document.createElement("script");h.async=!0,h.src=c,document.head.appendChild(h)},e=c=>{const h=document.createElement("img");h.src=c,h.style.display="none",document.body.appendChild(h)};i("https://cdn.membrana.media/tsn/ym.js?v=1"),e("https://d.adtelligent.com/tracking/custom?lid=6216683&aid=12231");const t=[];if(Array.isArray((V=(P=window.tsn)==null?void 0:P.adTargeting)==null?void 0:V.category)){const c=window.tsn.adTargeting.category[0];(c==null?void 0:c.length)>0&&t.push(["site_section",c])}const r=document.querySelector("[data-catfish]");window.yieldMasterCmd=window.yieldMasterCmd||[],window.yieldMasterCmd.push(()=>{var c,h,I;(c=window.notsyInit)==null||c.call(window,{pageVersionAutodetect:!0,targeting:t,enableAdUnits:["TSN_FLOAT"]}),r&&((h=window.yieldMaster)==null||h.addEventListener("VIDEO_AD_STICK",()=>{r.style.opacity="0"}),(I=window.yieldMaster)==null||I.addEventListener("VIDEO_AD_UNSTICK",()=>{r.style.opacity="1"}))});let d=!1;window.addEventListener("scroll",()=>{var h,I;const c=window.pageYOffset||document.documentElement.scrollTop;c===0&&!d?((h=window.yieldMasterCmd)==null||h.push(()=>{var T;(T=window.yieldMaster)==null||T.hideStickyUnit("TSN_FLOAT")}),d=!0):c>0&&d&&((I=window.yieldMasterCmd)==null||I.push(()=>{var T;(T=window.yieldMaster)==null||T.stopHidingStickyUnit("TSN_FLOAT")}),d=!1)},!1)};window.loadMembranaVideoBanner=ce;
