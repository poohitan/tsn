import{_ as n}from"./chunks/index.D_5av9BF.js";import{s as S}from"./chunks/screens.B0WnhdaL.js";import{i as c}from"./chunks/initIntersectionObserver.B5hw3m26.js";import{t as $}from"./chunks/index.COmZMhFe.js";import{u as V}from"./chunks/useHttp.6cBI5n3N.js";import{d as R}from"./chunks/debounce.BsMEdVCo.js";console.dump=r=>{console.info(`>>> [${window.location.host}] ${r}`)};let b=document.documentElement.scrollTop;const h=document.querySelector("[data-header-tags]"),y=()=>{document.documentElement.scrollTop>b&&document.documentElement.scrollTop>20?document.documentElement.classList.add("is-scroll-down"):document.documentElement.classList.remove("is-scroll-down"),b=document.documentElement.scrollTop,b>=10?(document.documentElement.classList.add("is-header-sticky"),h==null||h.classList.add("t-dark")):(document.documentElement.classList.remove("is-header-sticky"),document.documentElement.classList.contains("is-hero")||h==null||h.classList.remove("t-dark"))},j=()=>{const r=document.createElement("div");r.className="scrollbar-measure",document.body.appendChild(r);const e=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),e},x=j(),B=()=>{document.body.style.setProperty("--body-scroll-width",`${x}px`)},M=()=>{document.body.style.setProperty("--body-scroll-width","")};(()=>{const r=window.matchMedia(`(min-width: ${S.lg.min})`);let e=null,t=null;const o=document.querySelector("[data-menu-toggle]");o&&o.addEventListener("click",()=>{document.documentElement.classList.toggle("is-menu-open"),document.documentElement.classList.contains("is-menu-open")?B():M()}),y(),document.addEventListener("scroll",()=>y());const i=async()=>{if(r.matches){if(!e){t||([{default:t}]=await Promise.all([n(()=>import("./chunks/NavOverflow.DNHy0wWq.js"),[],import.meta.url)])),e=new t;return}e.init()}else e&&e.kill()};i(),r.addEventListener("change",()=>i())})();c(document.querySelectorAll("[data-hero]"),()=>n(()=>import("./chunks/init.3sQfML6Q.js"),[],import.meta.url));c(document.querySelectorAll("[data-calendar]"),()=>n(()=>import("./chunks/init.DtmhZFfO.js"),[],import.meta.url));const k=r=>{c(r.querySelectorAll("[data-carousel]"),()=>n(()=>import("./chunks/init.C8_QkvIj.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(k);k(document);const L=r=>{c(r.querySelectorAll("[data-copy]"),()=>n(()=>import("./chunks/init.Be8N9zn2.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(L);L(document);c(document.querySelectorAll("[data-modal-target]"),()=>n(()=>import("./chunks/init.BEdpyjPE.js"),[],import.meta.url));const I=r=>{customElements.get("lite-youtube")===void 0&&c(r.querySelectorAll("lite-youtube"),()=>n(()=>import("./chunks/init.C6K4zN7z.js"),[],import.meta.url),{rootMargin:"0px 0px 25% 0px"},!0)};window.tsn.infiniteScrollClosures.push(I);I(document);const D=r=>{c(r.querySelectorAll("[data-lazy-video]"),()=>n(()=>import("./chunks/init.B9kzcSe0.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(D);D(document);const T=r=>{c(r.querySelectorAll("[data-playlist]"),()=>n(()=>import("./chunks/init.Bz5G4dH7.js"),[],import.meta.url))};window.tsn.infiniteScrollClosures.push(T);T(document);c(document.querySelectorAll("[data-scroller]"),()=>n(()=>import("./chunks/init.ptWckzN5.js"),[],import.meta.url));c(document.querySelectorAll("[data-search]"),()=>n(()=>import("./chunks/init.a3QejpoT.js"),[],import.meta.url));(()=>{const r=document.querySelectorAll("[data-toggle-target]");r.length!==0&&r.forEach(e=>{const t=e.dataset.toggleTarget;if(!t)return;const o=document.querySelector(t);o&&$({toggleEl:e,targetEl:o})})})();const A={set(r,e,t=3600){const i={value:e,expiry:new Date().getTime()+t*1e3};localStorage.setItem(r,JSON.stringify(i))},get(r){const e=localStorage.getItem(r);if(!e)return null;const t=JSON.parse(e);return new Date().getTime()>t.expiry?(localStorage.removeItem(r),null):t.value}},f={};function q(){const r=`weather|${window.tsn.currentLanguage}`,e=3600,t=A.get(r);if(t)return t;if(!f[r]){const{get:o}=V();f[r]=o("weather").then(i=>(A.set(r,i,e),i)).finally(()=>delete f[r])}return f[r]}(()=>{const r=document.querySelectorAll("[data-weather]");r.length&&r.forEach(async e=>{const t=e.querySelector("img"),o=e.querySelector("span");if(!t||!o)return;const i=await q();i.current&&(o.textContent=`${i.current.temperature}Â°`,t.src=i.current.filled_icon,t.onload=()=>t.classList.remove("invisible"),e.classList.remove("invisible"))})})();(()=>{const r=document.querySelectorAll("[data-location]");r.length&&r.forEach(async e=>{const t=e.querySelector("span");if(!t)return;const o=await q();!o.city||!o.current||(t.textContent=o.city,e.classList.remove("invisible"))})})();c(document.querySelectorAll("[data-weather-modal-content]"),()=>n(()=>import("./chunks/init.DDolVUfy.js"),[],import.meta.url));(()=>{const r=document.querySelector("[data-cookies]"),e=document.querySelector("[data-cookies-submit]");if(!r||!e)return;localStorage.getItem("is_cookies_accepted")||(setTimeout(()=>document.documentElement.classList.add("is-cookies-visible"),1e3),e.addEventListener("click",o=>{o.preventDefault(),document.documentElement.classList.remove("is-cookies-visible"),localStorage.setItem("is_cookies_accepted","true")}))})();var w={};Object.defineProperty(w,"__esModule",{value:!0});var O=w.AdblockDetector=void 0;class z{constructor(){this.bannerIds=["AdHeader","AdContainer","AD_Top","homead","ad-lead"],this.init()}init(){if(!this.isBrowser()){console.error("Detection on server side is not supported. Please use library only on client side.");return}const e=document.createElement("div");e.innerHTML=this.generatesBannersString(),document.body.append(e)}detect(){return this.isBrowser()?!this.bannerIds.every(e=>this.checkVisibility(e)):!1}generatesBannersString(){return this.bannerIds.map(e=>`<div id="${e}"></div>`).join("")}checkVisibility(e){const t=document.querySelector(`#${e}`);return t?t.offsetParent:null}isBrowser(){return typeof window<"u"}}O=w.AdblockDetector=z;class W{constructor(e){this.configure(e),this.callbacks=[],this.interactiveCallbacks=[],this.counter=0,this.isAdblock=!1,this.isInteracted=!1,this.status="none",this.interactiveListener=this.interactive.bind(this),this.addInteractiveListeners(),this.checkAdblock()}configure(e){const t={observer:{rootMargin:"0px",threshold:0},dfp:{script:"//securepubads.g.doubleclick.net/tag/js/gpt.js"},prefix:"dfp-ad",selector:"[data-ad]",targeting:{}};if(!e||e===void 0){this.config=t;return}Object.keys(t).forEach(o=>{e[o]||(this.config[o]=t[o])})}setTargeting(e){e!==void 0&&(this.config.targeting=e)}interactive(e){this.isInteracted||!this.isEventInteractive(e)||(this.removeInteractiveListeners(),this.isInteracted=!0,this.runInteractiveCallbacks())}isEventInteractive(e){return e.type!="pointerdown"?!0:!(e.target.tagName=="A"&&e.target.href!="#"||e.target.parentNode&&e.target.parentNode.tagName=="A"&&e.target.parentNode.href!="#")}runInteractiveCallbacks(){!this.interactiveCallbacks.length||this.isAdblock||(this.interactiveCallbacks.forEach(e=>e()),this.interactiveCallbacks=[])}addInteractiveListeners(){document.addEventListener("scroll",this.interactiveListener,{passive:!0}),document.addEventListener("pointerdown",this.interactiveListener,{passive:!0})}removeInteractiveListeners(){document.removeEventListener("scroll",this.interactiveListener,{passive:!0}),document.removeEventListener("pointerdown",this.interactiveListener,{passive:!0})}async withLibrary(e){if(this.status=="loaded")return e();this.status!="loaded"&&this.callbacks.push(e),this.status!="loading"&&(this.status="loading",this.loadLibraries(()=>{this.status="loaded",googletag.cmd.push(()=>{googletag.pubads().collapseEmptyDivs(),this.config.targeting&&Object.keys(this.config.targeting).forEach(t=>{googletag.pubads().setTargeting(t,this.config.targeting[t]),console.dump("set googletag.pubads() global targeting ["+t+" => "+this.config.targeting[t]+"]")}),googletag.pubads().setCentering(!0),googletag.enableServices()}),setTimeout(()=>{this.callbacks.length&&!this.isAdblock&&(this.callbacks.forEach(t=>t()),this.callbacks=[])})}))}createObserver(){this.observer=new IntersectionObserver(e=>{e.forEach(t=>{if(t.intersectionRatio>0){this.unobserveNode(t.target);try{this.processNode(t.target)}catch(o){console.error(o)}}})},this.config.observer)}processNode(e){return"timeout"in e.dataset?this.processTimeouted(e,e.dataset.timeout):"interactive"in e.dataset?this.processInteractive(e):this.processDefault(e)}processInteractive(e){return e.dataset.interactive=="scroll"?this.addViaInteractiveScroll(e):this.isInteracted?this.load(e):this.interactiveCallbacks.push(()=>this.load(e))}addViaInteractiveScroll(e){if(window.scrollY>=200){this.load(e);return}const o=R(()=>{window.scrollY<200||(this.load(e),window.removeEventListener("scroll",o,{passive:!0}))},50);window.addEventListener("scroll",o,{passive:!0})}processTimeouted(e,t){if(!this.isAdblock)return window.addEventListener("load",()=>{setTimeout(()=>{this.load(e)},t)})}processDefault(e){return this.load(e)}loadAllIn(e){if(this.isAdblock){document.dispatchEvent(new Event("adblockDetected"));return}e.querySelectorAll(this.config.selector).forEach(o=>this.load(o))}load(e){if(!this.isAdblock)return this.withLibrary(()=>this.initAd(e))}initAd(e){const t=e.getAttribute("type")||e.dataset.type,o=e.dataset.ad;if(!(o===null||o===""))switch(t){case"function":return this.initViaFunction(o);case"doubleclick":return this.initDoubleclickAd(e);default:console.error(`Ad type ${t} is not supported`)}}initViaFunction(e){if(typeof window[e]=="function")return console.dump(`loading ad ${e}`),window[e]();console.error(`${e} is not a function`)}initDoubleclickAd(e){const t=this.getSlotId(),o=e.dataset.ad,i=JSON.parse(e.dataset.sizes);console.dump(`loading ad ${o}`),e.id=t,googletag.cmd.push(()=>{const d=googletag.defineSlot(o,i,t);Object.keys(this.config.targeting).forEach(a=>{d.setTargeting(a,this.config.targeting[a])}),d.addService(googletag.pubads()),googletag.display(d),googletag.pubads().addEventListener("slotRenderEnded",a=>{if(a.slot!=d||!a.isEmpty)return;if(a.isEmpty&&console.dump(`ad ${a.slot.getAdUnitPath()} is empty`),window.matchMedia(`(min-width: ${S.lg.min})`).matches){const l=e.closest("[data-ad-container]");if(l){if(console.log(l.dataset),l.dataset.locked)return;const m=l.parentNode;l.remove(),console.log(m),m&&m.childElementCount===0&&m.remove()}}})})}getSlotId(){return this.counter++,`${this.config.prefix}-${this.counter}`}unobserveNode(e){this.observer.unobserve(e)}observe(e){if(this.isAdblock){document.dispatchEvent(new Event("adblockDetected"));return}this.observer||this.createObserver();const t=e.querySelectorAll(this.config.selector);t.length&&t.forEach(o=>{if(o.dataset.interactiveOnLoad)return this.processInteractive(o);this.observer.observe(o)})}disconnect(){this.observer&&this.observer.disconnect()}async checkAdblock(){setTimeout(()=>{new O().detect()&&this.adblockDetected()},150)}adblockDetected(){this.isAdblock||(console.dump("adblock detected"),this.isAdblock=!0,this.removeInteractiveListeners(),this.disconnect(),document.dispatchEvent(new Event("adblockDetected")))}loadLibraries(e){window.googletag=window.googletag||{},window.vmpbjs=window.vmpbjs||{},window.vpb=window.vpb||{},vpb.cmd=vpb.cmd||[],vpb.st=Date.now(),vpb.fastLoad=!0,googletag.cmd=googletag.cmd||[],vmpbjs.cmd=vmpbjs.cmd||[];var t=[];try{t=googletag.cmd.slice(0),googletag.cmd.length=0}catch{}var o=!1;function i(s){return s.call(googletag)}var d=!1;googletag.cmd.push(function(){d=!0,googletag.cmd.unshift=function(s){if(o)return i(s);if(t.unshift(s),s._startgpt){o=!0;for(var u=0;u<t.length;u++)i(t[u])}},googletag.cmd.push=function(s){if(o)return i(s);t.push(s)}}),d||(googletag.cmd.push=function(s){t.push(s)},googletag.cmd.unshift=function(s){t.unshift(s),s._startgpt&&(o=!0,googletag.apiReady?t.forEach(function(u){googletag.cmd.push(u)}):googletag.cmd=t)});var a=36e5,E=parseInt(Date.now()/a),l="//player.bidmatic.io/prebidlink/"+E+"/wrapper_hb_766336_22809.js",m=l.replace("wrapper_hb","hb"),C="//securepubads.g.doubleclick.net/tag/js/gpt.js",P=document.head||document.body||document.documentElement;function v(s,u){var g=document.createElement("script");return g.src=s,g.defer=!1,P.appendChild(g),g.onload=u,g.onerror=function(){var _=function(){};_._startgpt=!0,googletag.cmd.unshift(_)},g}v(m),v(C),v(l,()=>{e()})}}const p=new W;window.tsn&&p.setTargeting(window.tsn.adTargeting);p.observe(document);window.tsn.advertizer=p;window.tsn.infiniteScrollClosures.push(p.observe.bind(p));const H=()=>{document.querySelectorAll("[data-ad-container]").forEach(r=>r.remove())};document.addEventListener("adblockDetected",H);export{M as c,q as f,B as s};
